package frame256x288_test

import (
	"github.com/reiver/go-frame256x288"

	"image/color"

	"testing"
)

func TestSlice_String_dye(t *testing.T) {

	tests := []struct{
		R uint8
		G uint8
		B uint8
		A uint8
		Expected string
	}{
		{
			R: 0,
			G: 0,
			B: 0,
			A: 255,
			Expected: "IMAGE:iVBORw0KGgoAAAANSUhEUgAAAQAAAAEgCAIAAADUvDoHAAAC60lEQVR4nOzTAREAAAgDIc/+oRfkoQN/ECYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkCkCYAaQKQJgBpApAmAGkLAAD//z+sAkGsJzQnAAAAAElFTkSuQmCC",
		},
		{
			R: 255,
			G: 255,
			B: 255,
			A: 255,
			Expected: "IMAGE:iVBORw0KGgoAAAANSUhEUgAAAQAAAAEgCAIAAADUvDoHAAADFklEQVR4nOzTMREAIAzAQI7Dv+Uio0P+FWTJm5kDVXc7ADYZgDQDkGYA0gxAmgFIMwBpBiDNAKQZgDQDkGYA0gxAmgFIMwBpBiDNAKQZgDQDkGYA0gxAmgFIMwBpBiDNAKQZgDQDkGYA0gxAmgFIMwBpBiDNAKQZgDQDkGYA0gxAmgFIMwBpBiDNAKQZgDQDkGYA0gxAmgFIMwBpBiDNAKQZgDQDkGYA0gxAmgFIMwBpBiDNAKQZgDQDkGYA0gxAmgFIMwBpBiDNAKQZgDQDkGYA0gxAmgFIMwBpBiDNAKQZgDQDkGYA0gxAmgFIMwBpBiDNAKQZgDQDkGYA0gxAmgFIMwBpBiDNAKQZgDQDkGYA0gxAmgFIMwBpBiDNAKQZgDQDkGYA0gxAmgFIMwBpBiDNAKQZgDQDkGYA0gxAmgFIMwBpBiDNAKQZgDQDkGYA0gxAmgFIMwBpBiDNAKQZgDQDkGYA0gxAmgFIMwBpBiDNAKQZgDQDkGYA0gxAmgFIMwBpBiDNAKQZgDQDkGYA0gxAmgFIMwBpBiDNAKQZgDQDkGYA0gxAmgFIMwBpBiDNAKQZgDQDkGYA0gxAmgFIMwBpBiDNAKQZgDQDkGYA0gxAmgFIMwBpBiDNAKQZgDQDkGYA0gxAmgFIMwBpBiDNAKQZgDQDkGYA0gxAmgFIMwBpBiDNAKQZgDQDkGYA0gxAmgFIMwBpBiDNAKQZgDQDkGYA0gxAmgFIMwBpBiDNAKQZgDQDkGYA0gxAmgFIMwBpBiDNAKQZgDQDkGYA0gxAmgFIMwBpBiDNAKQZgDQDkGYA0gxAmgFIMwBpBiDNAKQZgDQDkGYA0gxAmgFIMwBpBiDNAKQZgDQDkGYA0gxAmgFIMwBpBiDNAKQZgDQDkGYA0gxAmgFIMwBpBiDNAKQZgDQDkGYA0gxAmgFIMwBpBiDNAKQZgDQDkGYA0gxAmgFIMwBpBiDNAKQZgDQDkGYA0gxAmgFIMwBpBiDNAKQZgDQDkGYA0gxAmgFIMwBpBiDNAKQZgDQDkGYA0gxAmgFIMwBpPwAA///QcgVAXfZffQAAAABJRU5ErkJggg==",
		},
		{
			R: 255,
			G: 199,
			B: 6,
			A: 255,
			Expected: "IMAGE:iVBORw0KGgoAAAANSUhEUgAAAQAAAAEgCAIAAADUvDoHAAADGklEQVR4nOzTQQ0AIRDAwMuF4N8VskDGPjqjoJ+ue/YHVf90AEwyAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSXgAAAP//4EQED7U/dIwAAAAASUVORK5CYII=",
		},
		{
			R: 0,
			G: 111,
			B: 184,
			A: 255,
			Expected: "IMAGE:iVBORw0KGgoAAAANSUhEUgAAAQAAAAEgCAIAAADUvDoHAAADGUlEQVR4nOzTMRHAMAzAQF+vfEMv8ALDg/4RaNE/5w5UfdsBsMkApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUh7AQAA//8lmgNq4rolsAAAAABJRU5ErkJggg==",
		},
		{
			R: 44,
			G: 181,
			B: 233,
			A: 255,
			Expected: "IMAGE:iVBORw0KGgoAAAANSUhEUgAAAQAAAAEgCAIAAADUvDoHAAADGklEQVR4nOzTMREAIRDAwJ8f5GAfUbhAxhXZVZAma5/7QdU/HQCTDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmANAOQZgDSDECaAUgzAGkGIM0ApBmAtBcAAP//G/gEDU/pOLcAAAAASUVORK5CYII=",
		},
	}

	for testNumber, test := range tests {

		var c color.Color = color.NRGBA{
			R: test.R,
			G: test.G,
			B: test.B,
			A: test.A,
		}

		var buffer [frame256x288.ByteSize]uint8

		var frame frame256x288.Slice = frame256x288.Slice(buffer[:])

		frame.Dye(c)

		actual   := frame.String()
		expected := test.Expected

		if expected != actual {
			t.Errorf("For test #%d, the actual serialized frame is not what was expected.", testNumber)
			t.Logf("rgba(%d,%d,%d,%d)", test.R, test.G, test.B, test.A)
			t.Logf("EXPECTED: %q", expected)
			t.Logf("ACTUAL:   %q", actual)
			continue
		}
	}
}
